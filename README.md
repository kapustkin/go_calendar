# Сервис-календарь

## Step 1

Сделать "заготовку" для микросервиса-календаря.
Определить структуру определяющую событие, написать методы для добавления/изменения/удаления событий.
Хранить события в памяти, без персистентности.

## Step 2

GRPC сервис
Создать GRPC спецификацию для сервиса-календаря из дз 2.7.
Сгенерировать GRPC сервер и клиент, проверить работу сервиса.
Отделить модель данных от Protobuf структур.

## Step 3

Использование баз данных.

Цель: Изменить код сервиса-календаря, так что бы события сохранялись в базе данных.
Использовать sqlx для более удобной обработки запросов.
Слой работы с базой данных нужно вынести в отдельный пакет.

## Step 4

Реализовать "напоминания" о событиях с помощью Kafka.

Создать процесс, который периодически сканирует основную базу данных, выбирая события о которых нужно напомнить. Создать процесс, который читает сообщения из очереди и шлет уведомления.

## Step 5
Подготовить Docker файлы для каждого из сервисов из дз 3.8.
Собрать образы и загрузить в DockerHub.
Создать docker-compose файл, поднимающий все сервисы проекта, включая базу и очередь.

## Step 6
Интеграционное тестирование

Написать интеграционный тест для проекта.
Тест должен выполняться в отдельном контейнере в docker-compose.
Тест должен проверять основные сценарии:
* Добавление/обновления события
* Получение списка событий
* Отправка уведомления
* Очистка старых событий


Для запуска тестов
```console
docker-compose -f docker-compose.test.yml up --exit-code-from integration_tests
```
